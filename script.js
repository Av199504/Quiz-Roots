const questions = [

  // The Night Train at Deoli (20 questions)

  {

    question: "Where does the narrator of 'The Night Train at Deoli' meet the young girl?",

    options: ["On a crowded bus stop", "In a bustling marketplace", "On the railway platform at Deoli", "In a quiet park"],

    answer: "On the railway platform at Deoli"

  },

  {

    question: "What is the narrator’s age in 'The Night Train at Deoli'?",

    options: ["20", "18", "25", "30"],

    answer: "18"

  },

  {

    question: "Where is the narrator traveling to by train in the story?",

    options: ["Delhi", "Dehradun", "Mussoorie", "Bombay"],

    answer: "Dehradun"

  },

  {

    question: "What time does the train usually reach Deoli?",

    options: ["Early morning", "Late at night", "Midnight", "Afternoon"],

    answer: "Early morning"

  },

  {

    question: "How is Deoli described in the story?",

    options: ["A busy city", "A small, quiet station", "A village fairground", "A major junction"],

    answer: "A small, quiet station"

  },

  {

    question: "What does the girl at Deoli sell?",

    options: ["Flowers", "Newspapers", "Baskets", "Fruits"],

    answer: "Baskets"

  },

  {

    question: "How does the narrator describe the girl’s eyes?",

    options: ["Bright and alert", "Shy and gentle", "Dark and smouldering", "Blue and dreamy"],

    answer: "Dark and smouldering"

  },

  {

    question: "What does the narrator buy from the girl?",

    options: ["A tray of fruits", "A cane basket", "A bouquet of flowers", "A bundle of books"],

    answer: "A cane basket"

  },

  {

    question: "How long does the train stop at Deoli?",

    options: ["Ten minutes", "Half an hour", "Just a few minutes", "One hour"],

    answer: "Ten minutes"

  },

  {

    question: "What emotion does the narrator feel after meeting the girl?",

    options: ["Annoyed", "Curious and attracted", "Frightened", "Angry"],

    answer: "Curious and attracted"

  },

  {

    question: "What does the narrator do when he sees the girl for the second time?",

    options: ["Ignores her", "Smiles and waves", "Speaks to her briefly", "Offers her money"],

    answer: "Speaks to her briefly"

  },

  {

    question: "Why does the narrator not break his journey at Deoli?",

    options: ["He is scared of rejection", "He does not have time", "He is afraid of discovering the truth", "He forgets about the girl"],

    answer: "He is afraid of discovering the truth"

  },

  {

    question: "What is one of the main themes of 'The Night Train at Deoli'?",

    options: ["Political unrest", "Lost opportunity and longing", "Family bonding", "War and peace"],

    answer: "Lost opportunity and longing"

  },

  {

    question: "What does the narrator associate with Deoli after meeting the girl?",

    options: ["Suspicion", "Nostalgia", "Fear", "Anger"],

    answer: "Nostalgia"

  },

  {

    question: "What does the Deoli station symbolize in the story?",

    options: ["A mundane part of the journey", "A place of beauty and life", "A point of mystery, longing, and impermanence", "A hub of commerce"],

    answer: "A point of mystery, longing, and impermanence"

  },

  {

    question: "Why does the narrator visit Dehra during his college days?",

    options: ["To visit his parents", "To stay with his grandmother", "For a summer job", "To explore the forests"],

    answer: "To stay with his grandmother"

  },

  {

    question: "What is the narrator’s main regret in the story?",

    options: ["Not buying a basket", "Not talking to the station master", "Not getting off the train to meet her", "Missing the train"],

    answer: "Not getting off the train to meet her"

  },

  {

    question: "What remains with the narrator after all these years?",

    options: ["The girl’s voice", "The memory of her face and eyes", "The basket he bought", "The train journey itself"],

    answer: "The memory of her face and eyes"

  },

  {

    question: "What kind of ending does 'The Night Train at Deoli' have?",

    options: ["Tragic", "Violent", "Open-ended and melancholic", "Happy and resolved"],

    answer: "Open-ended and melancholic"

  },

  {

    question: "What does the narrator fear about finding the girl?",

    options: ["She might be married or gone", "She might reject him", "She might not remember him", "She might be angry"],

    answer: "She might be married or gone"

  },

  // Strong Roots (20 questions)

  {

    question: "Where was APJ Abdul Kalam born?",

    options: ["Chennai", "Madurai", "Rameswaram", "Thanjavur"],

    answer: "Rameswaram"

  },

  {

    question: "What was Kalam’s father’s name?",

    options: ["Jainulabdeen", "Ashiamma", "Pakshi Lakshmana", "Bahadur"],

    answer: "Jainulabdeen"

  },

  {

    question: "What was Kalam’s mother’s name?",

    options: ["Zohra", "Ashiamma", "Fatima", "Khadija"],

    answer: "Ashiamma"

  },

  {

    question: "What is the title of the book from which 'Strong Roots' is taken?",

    options: ["Ignited Minds", "Wings of Fire", "My Journey", "Indomitable Spirit"],

    answer: "Wings of Fire"

  },

  {

    question: "How does Kalam describe his physical appearance as a child?",

    options: ["Very handsome", "Striking features", "Short and undistinguished-looking", "Resembled his father"],

    answer: "Short and undistinguished-looking"

  },

  {

    question: "Where was Kalam’s family house located?",

    options: ["Temple Road", "Mosque Street", "Beach Road", "Market Street"],

    answer: "Mosque Street"

  },

  {

    question: "What was Kalam’s ancestral house made of?",

    options: ["Wood and clay", "Limestone and brick", "Sandstone and marble", "Concrete and steel"],

    answer: "Limestone and brick"

  },

  {

    question: "What quality did Kalam’s father, Jainulabdeen, possess?",

    options: ["Political influence", "Great wealth", "Formal education", "Wisdom and generosity"],

    answer: "Wisdom and generosity"

  },

  {

    question: "What did Kalam’s mother, Ashiamma, do daily?",

    options: ["Taught at a school", "Fed more outsiders than family", "Worked at the temple", "Ran a business"],

    answer: "Fed more outsiders than family"

  },

  {

    question: "What made Rameswaram famous to pilgrims?",

    options: ["Krishna Temple", "Shiva Temple", "Tirupati Temple", "Kali Temple"],

    answer: "Shiva Temple"

  },

  {

    question: "What title was given to one of Kalam’s mother’s ancestors?",

    options: ["Bahadur", "Raibahadur", "Padmashree", "Bharat Ratna"],

    answer: "Bahadur"

  },

  {

    question: "When was Kalam’s ancestral house built?",

    options: ["Mid-19th century", "Late-19th century", "Early-20th century", "Early-19th century"],

    answer: "Mid-19th century"

  },

  {

    question: "How did Kalam describe his childhood?",

    options: ["Difficult", "Secure", "Lonely", "Adventurous"],

    answer: "Secure"

  },

  {

    question: "What did Kalam’s father avoid?",

    options: ["Essential comforts", "Inessential comforts and luxuries", "Religious practices", "Community service"],

    answer: "Inessential comforts and luxuries"

  },

  {

    question: "What did Kalam believe about divine power?",

    options: ["It is a myth", "It lifts one from misery and confusion", "It only helps religious people", "It controls lives directly"],

    answer: "It lifts one from misery and confusion"

  },

  {

    question: "What happens when one severs emotional and physical bonds, according to Kalam?",

    options: ["They become lonely", "They achieve freedom and peace", "They lose purpose", "They become weak"],

    answer: "They achieve freedom and peace"

  },

  {

    question: "What role did Kalam’s father play for people in distress?",

    options: ["Room-mate", "Oldster", "Go-between", "Advisor"],

    answer: "Go-between"

  },

  {

    question: "What did Kalam’s father start his day with?",

    options: ["Reading the newspaper", "Reading the namaz", "Visiting the temple", "Working in the grove"],

    answer: "Reading the namaz"

  },

  {

    question: "What was the size of Kalam’s father’s coconut grove?",

    options: ["Very small", "Medium-sized", "Large", "Non-existent"],

    answer: "Medium-sized"

  },

  {

    question: "What did Kalam’s parents provide him in childhood?",

    options: ["Wealth and education", "Food, medicine, and clothes", "Luxuries", "Travel opportunities"],

    answer: "Food, medicine, and clothes"

  }

];

let currentQuestion = 0;

let score = 0;

let quizTaken = localStorage.getItem('deoliStrongRootsQuizTaken') === 'true';

let timer;

let timeLeft = 10;

function startQuiz() {

  if (quizTaken) {

    document.getElementById('quiz').style.display = 'none';

    document.getElementById('result').style.display = 'block';

    document.getElementById('attempt-message').innerText = 'You have already taken this quiz. Only one attempt is allowed.';

    return;

  }

  showQuestion();

}

function showQuestion() {

  const questionElement = document.getElementById('question');

  const optionsElement = document.getElementById('options');

  const feedbackElement = document.getElementById('feedback');

  const nextBtn = document.getElementById('next-btn');

  const timerElement = document.getElementById('timer');

  questionElement.innerText = questions[currentQuestion].question;

  optionsElement.innerHTML = '';

  feedbackElement.innerHTML = '';

  nextBtn.disabled = true;

  timeLeft = 10;

  timerElement.innerText = `Time: ${timeLeft}s`;

  questions[currentQuestion].options.forEach(option => {

    const button = document.createElement('div');

    button.innerText = option;

    button.classList.add('option');

    button.onclick = () => selectOption(option, button);

    optionsElement.appendChild(button);

  });

  startTimer();

}

function startTimer() {

  clearInterval(timer);

  timeLeft = 10;

  document.getElementById('timer').innerText = `Time: ${timeLeft}s`;

  timer = setInterval(() => {

    timeLeft--;

    document.getElementById('timer').innerText = `Time: ${timeLeft}s`;

    if (timeLeft <= 0) {

      clearInterval(timer);

      selectOption(null, null); // Auto-submit as incorrect if time runs out

    }

  }, 1000);

}

function selectOption(selected, button) {

  clearInterval(timer);

  const feedbackElement = document.getElementById('feedback');

  const nextBtn = document.getElementById('next-btn');

  const correctAnswer = questions[currentQuestion].answer;

  if (selected === correctAnswer) {

    score++;

    feedbackElement.innerHTML = 'Correct! 😊';

    if (button) button.classList.add('correct');

  } else {

    feedbackElement.innerHTML = `Incorrect! 😣 The correct answer is ${correctAnswer}.`;

    if (button) button.classList.add('incorrect');

  }

  document.querySelectorAll('.option').forEach(btn => {

    btn.onclick = null; // Disable further clicks

    if (btn.innerText === correctAnswer) {

      btn.classList.add('correct');

    }

  });

  nextBtn.disabled = false;

}

function nextQuestion() {

  currentQuestion++;

  if (currentQuestion < questions.length) {

    showQuestion();

  } else {

    showResult();

  }

}

function showResult() {

  clearInterval(timer);

  document.getElementById('quiz').style.display = 'none';

  document.getElementById('result').style.display = 'block';

  document.getElementById('score').innerText = `Your score: ${score} out of ${questions.length}`;

  localStorage.setItem('deoliStrongRootsQuizTaken', 'true');

}

// Start the quiz when the page loads

startQuiz();